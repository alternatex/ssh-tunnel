#!/usr/bin/env node

"use strict";

var Tunnel = require("../");
var inquirer = require("inquirer");
var colors = require("colors");

var EventEmitter = require('events').EventEmitter;
var emitter = new EventEmitter();
emitter.on('test', function(){console.log('....', arguments);});
emitter.emit('test', 1);
emitter.emit('test', 2);
emitter.emit('test', 3);

var tunnel = Tunnel.tunnel("hi");

inquirer.prompt([
  {
    type: "password",
    message: "Enter your git password",
    name: "password"
  }
], function( answers ) {
  console.log( JSON.stringify(answers, null, "  ") );
  tunnel.emit('disconnect');

/*
  var choices = Array.apply(0, new Array(26)).map(function(x,y) {
    return String.fromCharCode(y + 65);
  });

  choices.push("Multiline option \n  super cool feature");

  inquirer.prompt([
    {
      type      : "list",
      name      : "letter",
      message   : "What's your favorite letter?",
      paginated : true,
      choices   : choices
    },
    {
      type      : "checkbox",
      name      : "name",
      message   : "Select the letter contained in your name:",
      paginated : true,
      choices   : choices
    }
  ], function( answers ) {
    console.log( JSON.stringify(answers, null, "  ") );
  });
*/
});



// text "`ssh -N -L $tunnelx_local_port:$tunnelx_remote_internal_host:$tunnelx_remote_internal_port $tunnelx_remote_external_user@$tunnelx_remote_external_host`"