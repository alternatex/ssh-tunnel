#!/usr/bin/env node

var path = require('path');
var dirname = path.dirname;
var basename = path.basename;

var program = require('commander');
program.parse(process.argv);

if(program.args.length!==1){
  var colors = require('colors');
  throw new Error((basename(__filename)+' accepts exactly one parameter: ').red+'<name>'.white.bold);
}

var filename = program.file ? program.file : 'tunnel.json';

var app = require("../lib/app");
app.init({ filename: filename });
app.require('delete')(program.args[0]);